//SPDX-License-Identifier: Unlicense
pragma solidity ^0.8.14;

import "@openzeppelin/contracts/utils/Counters.sol";
import "@openzeppelin/contracts/utils/cryptography/MerkleProof.sol";
import "@openzeppelin/contracts/token/ERC721/ERC721.sol";
import "@openzeppelin/contracts/access/Ownable.sol";
import "@openzeppelin/contracts/utils/Base64.sol";
import "@openzeppelin/contracts/utils/Strings.sol";

import {Errors} from "./Errors.sol";
import {Structs} from "./Structs.sol";

contract OceanicTicketsFromSydneyToLAX is ERC721, Ownable {
    bytes32 public manifest;
    uint128 clickerCounter = 0;
    uint256 ticketPrice = 8150000000000000;
    string baseURI;

    Structs.FlightInformation public flight;

    constructor() ERC721("SYDLAXTicket", "SYDLAX") {
        flight = Structs.FlightInformation(
            1095855300,
            23,
            "Boeing 777",
            361,
            "Seth Norris"
        );
    }

    // IDEA/TODO: Override tokenURI to render SVG ticket with flight information & seat nbr

    function book(address passenger, bytes32[] memory onlineCheckIn)
        public
        payable
    {
        if (ticketPrice != msg.value) revert Errors.ticketPriceNotMet();
        if (passenger != msg.sender) revert Errors.bookerNotPassenger();

        if (
            MerkleProof.verify(
                onlineCheckIn,
                manifest,
                keccak256(abi.encodePacked(passenger))
            )
        ) revert Errors.passengerNotOnFlightManifest();

        clickerCounter += 1;
        _safeMint(passenger, _assignTicketNumber(clickerCounter));
    }

    function _assignTicketNumber(uint128 id) private view returns (uint256) {
        return ((id / flight.capacity) << 128) + (id % flight.capacity);
    }

    function setBaseURI(string memory newURI) external onlyOwner {
        baseURI = newURI;
    }

    function _baseURI() internal view virtual override returns (string memory) {
        return baseURI;
    }

    function tokenURI(uint256 tokenId)
        public
        view
        override
        returns (string memory)
    {
        string memory json = Base64.encode(
            bytes(
                string(
                    abi.encodePacked(
                        '{"name": "MY NFT", "description": "", "image": "',
                        bytes(_displayTicket(tokenId)),
                        '"}'
                    )
                )
            )
        );
        return string(abi.encodePacked("data:application/json;base64,", json));
    }

    function _displayTicket(uint256 id) internal view returns (string memory) {
        return
            string(
                abi.encodePacked(
                    "data:image/svg+xml;utf8,",
                    "<svg width='100%' height='100%' viewBox='0 0 2700 2700' version='1.1' xmlns='http://www.w3.org/2000/svg' xmlns:xlink='http://www.w3.org/1999/xlink' xml:space='preserve' xmlns:serif='http://www.serif.com/' style='fill-rule:evenodd;clip-rule:evenodd;stroke-linejoin:round;stroke-miterlimit:2;'>",
                    "<g transform='matrix(1.37906,0,0,1.2053,-684.646,-252.854)'>",
                    "<path d='M2653,233.815C2653,131.261 2569.26,48 2466.11,48L222.886,48C119.741,48 36,131.261 36,233.815C36,233.964 36,2468.18 36,2468.18C36,2570.74 119.741,2654 222.886,2654L2466.11,2654C2569.26,2654 2653,2570.74 2653,2468.18L2653,233.815Z' style='fill:url(#_Linear1);'/>",
                    "</g>",
                    "<rect x='-39' y='792' width='2792' height='1964' style='fill:white;'/>",
                    "<g transform='matrix(0.831212,-0.82883,0.82883,0.831212,-862.756,1318.39)'>",
                    "<rect x='-339' y='-356' width='3274' height='3372' style='fill:url(#_Linear2);'/>",
                    "</g>",
                    "<g transform='matrix(0.205878,0.205845,-0.205845,0.205878,1328.76,1260.81)'>",
                    "<g transform='matrix(1,0,0,1,-600,-600)'>",
                    "<g transform='matrix(0.1,0,0,-0.1,0,1200)'>",
                    "<path d='M10070,10714C9762,10648 9368,10399 8913,9983C8843,9919 8393,9475 7915,8998L7044,8130L6630,8210C6402,8253 5731,8382 5140,8495C4549,8608 3608,8789 3050,8896C2492,9003 2018,9090 1996,9090C1974,9090 1938,9081 1916,9070C1860,9043 1406,8588 1386,8538C1352,8458 1374,8335 1431,8283C1444,8271 2326,7847 3390,7340C4454,6833 5326,6417 5327,6416C5328,6415 4961,6047 4512,5598L3695,4782L3400,4866C2964,4991 2439,5136 2241,5186C2045,5236 1971,5241 1912,5211C1854,5180 1415,4734 1391,4680C1353,4596 1371,4477 1429,4425C1442,4414 1880,4168 2403,3879L3355,3352L3872,2419C4156,1905 4403,1468 4421,1446C4439,1425 4472,1399 4494,1389C4544,1366 4628,1365 4678,1385C4724,1404 5182,1858 5211,1912C5241,1971 5236,2044 5185,2243C5134,2442 4993,2957 4866,3400L4782,3695L5599,4513L6415,5330L6461,5233C6995,4103 8267,1449 8283,1431C8335,1374 8458,1352 8538,1386C8588,1406 9043,1860 9070,1916C9081,1938 9090,1974 9090,1996C9090,2018 8874,3163 8610,4540L8130,7044L9018,7934C9506,8424 9960,8886 10027,8961C10299,9268 10488,9531 10601,9765C10689,9946 10720,10052 10727,10195C10736,10377 10699,10487 10595,10591C10494,10692 10393,10731 10230,10729C10178,10729 10106,10722 10070,10714Z' style='fill:rgb(0,17,133);fill-rule:nonzero;'/>",
                    "</g>",
                    "</g>",
                    "</g>",
                    "<g transform='matrix(1.43067,0,0,1.43067,-722.384,-323.178)'>",
                    "</g>",
                    "<text x='650px' y='932px' style='font-family:'PTMono-Bold', 'PT Mono', monospace;font-weight:700;font-size:75px;'>Sydney</text>",
                    "<g transform='matrix(0.203776,0,0,0.203776,154.556,971.332)'>",
                    "<g transform='matrix(1,0,0,1,-256,-256)'>",
                    "<clipPath id='_clip3'>",
                    "<rect x='0' y='0' width='512' height='512'/>",
                    "</clipPath>",
                    "<g clip-path='url(#_clip3)'>",
                    "<g transform='matrix(0.1,0,0,-0.1,0,512)'>",
                    "<path d='M2287,5104C1501,4982 894,4370 775,3582C755,3454 756,3187 775,3051C818,2760 915,2469 1090,2115C1287,1715 1490,1395 2030,635C2155,459 2300,252 2353,175C2407,96 2462,27 2479,17C2517,-6 2603,-6 2641,17C2658,27 2713,96 2767,175C2820,252 2965,459 3090,635C3630,1395 3833,1715 4030,2115C4205,2470 4301,2756 4344,3051C4364,3188 4365,3453 4345,3584C4226,4376 3615,4986 2822,5105C2701,5124 2407,5123 2287,5104ZM2790,4795C3394,4705 3889,4233 4025,3620C4035,3573 4044,3477 4047,3365C4051,3211 4049,3167 4031,3060C3976,2735 3832,2373 3588,1950C3415,1649 3212,1345 2771,725C2665,577 2574,448 2569,440C2561,427 2559,427 2551,440C2546,448 2455,577 2349,725C1908,1345 1705,1649 1532,1950C1288,2373 1144,2735 1089,3060C1071,3167 1069,3211 1073,3365C1076,3477 1085,3573 1095,3620C1195,4071 1491,4453 1895,4655C2180,4797 2472,4842 2790,4795Z' style='fill-rule:nonzero;'/>",
                    "<path d='M2333,4195C2014,4113 1765,3862 1684,3543C1650,3408 1650,3232 1684,3097C1766,2776 2016,2526 2337,2444C2472,2410 2648,2410 2783,2444C3104,2526 3354,2776 3436,3097C3470,3232 3470,3408 3436,3543C3354,3865 3105,4114 2783,4196C2649,4230 2466,4229 2333,4195ZM2735,3885C2925,3827 3083,3661 3135,3465C3154,3389 3154,3251 3135,3175C3098,3035 3001,2902 2877,2820C2733,2726 2540,2701 2378,2757C2273,2793 2197,2844 2122,2926C2018,3039 1970,3165 1970,3326C1970,3664 2264,3936 2605,3912C2633,3910 2691,3898 2735,3885Z' style='fill-rule:nonzero;stroke:black;stroke-width:9px;'/>",
                    "</g>",
                    "</g>",
                    "</g>",
                    "</g>",
                    "<g transform='matrix(1.1868,0,0,1.1868,1380.85,406.726)'>",
                    "<g transform='matrix(1,0,0,1,-819.5,-258.5)'>",
                    "<g transform='matrix(0.1,0,0,-0.1,0,517)'>",
                    "<path d='M3305,4873C3272,4864 3239,4838 3229,4813C3224,4800 3213,4790 3204,4790C3194,4790 3190,4795 3194,4806C3206,4837 3178,4807 3164,4774C3133,4700 3157,4599 3218,4548C3274,4501 3314,4494 3422,4513C3493,4526 3548,4611 3537,4692C3524,4792 3391,4896 3305,4873Z' style='fill:rgb(228,33,101);fill-rule:nonzero;'/>",
                    "<path d='M2532,4800C2495,4791 2460,4764 2460,4743C2460,4724 2430,4714 2420,4730C2407,4752 2379,4684 2378,4630C2378,4512 2472,4420 2582,4433C2684,4445 2720,4462 2745,4510C2794,4605 2754,4714 2646,4779C2606,4803 2573,4809 2532,4800Z' style='fill:rgb(228,33,101);fill-rule:nonzero;'/>",
                    "<path d='M4022,4635C4004,4627 3982,4607 3972,4590C3953,4557 3933,4551 3928,4578C3926,4590 3920,4585 3907,4558C3887,4515 3885,4432 3904,4387C3932,4318 4031,4262 4104,4273C4232,4293 4276,4337 4274,4447C4274,4515 4235,4572 4160,4618C4101,4653 4072,4657 4022,4635Z' style='fill:rgb(228,33,101);fill-rule:nonzero;'/>",
                    "<path d='M1850,4541C1814,4532 1796,4519 1775,4488C1757,4459 1726,4449 1736,4475C1740,4483 1739,4490 1736,4490C1732,4490 1720,4471 1710,4447C1672,4362 1701,4260 1779,4205C1815,4179 1830,4175 1878,4177C1991,4180 2036,4199 2064,4257C2082,4294 2085,4365 2071,4403C2054,4446 1997,4502 1945,4526C1892,4551 1890,4551 1850,4541Z' style='fill:rgb(228,33,101);fill-rule:nonzero;'/>",
                    "<path d='M2773,4230C2687,4210 2642,4191 2621,4166C2613,4157 2592,4150 2571,4150C2551,4150 2520,4141 2501,4129C2464,4106 2356,4070 2325,4070C2307,4070 2218,4039 2125,4001C2103,3992 2071,3972 2053,3957C2035,3941 2017,3931 2012,3934C2007,3937 1972,3914 1934,3883C1739,3724 1534,3475 1396,3228C1359,3161 1360,3139 1401,3160C1430,3176 1433,3168 1414,3121C1403,3093 1392,3080 1379,3080C1355,3080 1318,3023 1286,2938C1198,2704 1180,2249 1249,1980C1326,1674 1508,1411 1750,1252C1802,1218 1857,1181 1872,1170C1907,1143 2027,1089 2133,1051C2262,1006 2442,969 2565,963C2664,958 2680,960 2727,980C2756,992 2778,1006 2775,1010C2772,1014 2777,1023 2785,1030C2796,1040 2803,1039 2815,1026C2837,1004 2871,1014 2943,1062C2974,1083 3005,1098 3011,1094C3018,1090 3020,1070 3017,1043L3012,999L3059,1005C3168,1020 3223,1038 3371,1111C3459,1154 3537,1186 3547,1184C3557,1181 3594,1196 3629,1217C3864,1357 4186,1725 4305,1990C4475,2368 4508,2665 4425,3064C4360,3375 4211,3669 3975,3948L3887,4051L3749,4120C3656,4165 3593,4190 3558,4195C3529,4198 3467,4211 3420,4222C3343,4240 3280,4243 3105,4238C3100,4237 3041,4240 2975,4243C2877,4248 2840,4246 2773,4230ZM3010,3699C3184,3672 3335,3592 3487,3446C3599,3340 3671,3247 3762,3095C3947,2786 4008,2576 3997,2291C3992,2133 3969,2044 3896,1887C3860,1808 3838,1777 3783,1722C3692,1631 3622,1572 3520,1501C3443,1446 3432,1441 3395,1446C3373,1449 3326,1445 3290,1437C3209,1419 2876,1429 2733,1454C2140,1559 1831,1916 1770,2565C1760,2667 1761,2699 1775,2780C1835,3129 1965,3412 2081,3448C2100,3454 2137,3461 2163,3465C2204,3470 2222,3481 2278,3532C2369,3615 2405,3637 2507,3674C2592,3705 2600,3706 2770,3708C2866,3709 2974,3705 3010,3699Z' style='fill-rule:nonzero;'/>",
                    "<path d='M2838,2929C2775,2919 2690,2868 2690,2841C2690,2835 2686,2830 2682,2830C2678,2830 2670,2815 2665,2798C2658,2775 2649,2765 2635,2765C2624,2765 2609,2761 2603,2757C2586,2746 2587,2768 2604,2803C2624,2841 2606,2837 2576,2797C2517,2720 2494,2569 2525,2461C2570,2306 2698,2202 2876,2177C2949,2166 2953,2167 3002,2193C3038,2213 3056,2217 3065,2210C3082,2196 3105,2206 3173,2257C3236,2305 3269,2359 3290,2447C3327,2605 3216,2798 3035,2891C2958,2931 2910,2940 2838,2929Z' style='fill:rgb(228,33,101);fill-rule:nonzero;'/>",
                    "<path d='M1239,4065C1225,4058 1209,4040 1202,4026C1190,3998 1153,3988 1164,4016C1176,4047 1148,4017 1134,3984C1104,3912 1121,3821 1176,3767C1230,3713 1265,3706 1396,3722C1431,3727 1488,3778 1500,3816C1528,3900 1489,3993 1400,4050C1348,4084 1284,4090 1239,4065Z' style='fill:rgb(228,33,101);fill-rule:nonzero;'/>",
                    "<path d='M4491,4034C4474,4020 4460,4002 4460,3994C4460,3986 4451,3980 4440,3980C4427,3980 4422,3985 4426,3995C4437,4022 4421,4011 4405,3979C4356,3886 4393,3760 4481,3714C4529,3690 4594,3681 4628,3696C4645,3703 4661,3706 4664,3703C4667,3700 4684,3707 4703,3719C4776,3764 4793,3890 4735,3965C4666,4056 4554,4087 4491,4034Z' style='fill:rgb(228,33,101);fill-rule:nonzero;'/>",
                    "<path d='M12790,3620L12790,3140L13460,3140L13460,3620L12790,3620Z' style='fill-rule:nonzero;'/>",
                    "<path d='M853,3441C836,3430 819,3413 816,3402C812,3391 800,3380 789,3377C774,3373 770,3375 774,3386C784,3411 771,3401 756,3371C706,3275 746,3157 845,3107C894,3083 956,3076 980,3093C992,3101 1009,3106 1018,3103C1028,3101 1051,3113 1072,3132C1163,3216 1135,3353 1012,3431C957,3466 900,3469 853,3441Z' style='fill:rgb(228,33,101);fill-rule:nonzero;'/>",
                    "<path d='M4769,3335C4755,3328 4739,3310 4732,3296C4720,3268 4683,3258 4694,3286C4706,3317 4678,3287 4664,3254C4630,3172 4659,3060 4727,3016C4781,2980 4853,2966 4888,2984C4903,2991 4920,2995 4927,2993C4948,2985 5007,3039 5024,3081C5044,3131 5044,3161 5024,3208C4980,3314 4850,3379 4769,3335Z' style='fill:rgb(228,33,101);fill-rule:nonzero;'/>",
                    "<path d='M9440,2969C9149,2936 8936,2841 8843,2701C8797,2634 8775,2572 8762,2473L8753,2410L9395,2410L9415,2462C9439,2525 9477,2554 9558,2571C9629,2585 9738,2576 9796,2550C9886,2511 9908,2405 9839,2341C9803,2308 9738,2292 9525,2265C9285,2235 9121,2206 9032,2178C8784,2103 8660,1941 8660,1694C8660,1540 8705,1435 8815,1331C8875,1274 8939,1241 9040,1213C9139,1186 9416,1189 9524,1218C9627,1247 9729,1296 9812,1359C9849,1387 9881,1410 9884,1410C9886,1410 9891,1398 9894,1383C9897,1367 9904,1329 9910,1298L9921,1240L10266,1240C10508,1240 10610,1243 10610,1251C10610,1257 10595,1279 10577,1301C10558,1322 10538,1357 10532,1379C10523,1406 10520,1573 10520,1941C10520,2230 10515,2496 10510,2535C10475,2785 10274,2930 9908,2969C9796,2982 9550,2981 9440,2969ZM9870,1897C9870,1740 9830,1666 9712,1608C9652,1578 9637,1575 9555,1575C9483,1575 9457,1579 9425,1596C9318,1652 9322,1805 9433,1859C9456,1870 9535,1893 9609,1910C9682,1927 9766,1949 9794,1959C9873,1987 9870,1990 9870,1897Z' style='fill-rule:nonzero;'/>",
                    "<path d='M5430,2959C5024,2912 4737,2663 4653,2286C4643,2239 4638,2166 4638,2070C4638,1948 4642,1910 4663,1829C4769,1421 5111,1190 5606,1190C5879,1190 6112,1264 6283,1405C6417,1515 6491,1653 6525,1853L6531,1890L5861,1890L5844,1830C5824,1759 5773,1695 5716,1669C5688,1656 5651,1650 5599,1650C5534,1650 5514,1654 5469,1678C5405,1711 5356,1771 5335,1843C5294,1981 5297,2217 5341,2335C5381,2443 5464,2508 5572,2517C5645,2524 5707,2507 5755,2467C5794,2435 5840,2352 5840,2313L5840,2290L6520,2290L6514,2323C6466,2590 6337,2762 6099,2875C5930,2955 5674,2987 5430,2959Z' style='fill-rule:nonzero;'/>",
                    "<path d='M7450,2959C7335,2945 7247,2919 7145,2871C6963,2784 6831,2654 6745,2476C6674,2328 6643,2161 6655,1990C6687,1556 6978,1262 7437,1200C7495,1192 7585,1189 7682,1193C7899,1200 8016,1229 8177,1315C8355,1409 8462,1522 8518,1673C8530,1705 8540,1733 8540,1735C8540,1738 8397,1740 8221,1740L7902,1740L7876,1705C7861,1686 7828,1658 7802,1643C7759,1617 7747,1615 7650,1615C7555,1615 7539,1618 7488,1643C7456,1659 7415,1690 7395,1712C7355,1759 7320,1845 7320,1895L7320,1930L8593,1930L8587,2053C8577,2270 8509,2466 8387,2625C8194,2878 7831,3007 7450,2959ZM7759,2540C7852,2499 7930,2387 7930,2293L7930,2270L7625,2270C7371,2270 7320,2272 7320,2284C7320,2292 7329,2327 7340,2362C7371,2464 7444,2535 7545,2561C7594,2574 7704,2563 7759,2540Z' style='fill-rule:nonzero;'/>",
                    "<path d='M11770,2955C11727,2947 11661,2924 11610,2899C11540,2864 11509,2840 11433,2763L11340,2669L11340,2920L10730,2920L10730,1240L11399,1240L11402,1748C11405,2319 11402,2296 11483,2378C11584,2481 11777,2468 11850,2353C11895,2282 11900,2223 11900,1712L11900,1240L12571,1240L12567,1843C12564,2360 12561,2455 12547,2515C12494,2738 12342,2894 12129,2945C12035,2967 11860,2973 11770,2955Z' style='fill-rule:nonzero;'/>",
                    "<path d='M14475,2963C14032,2923 13724,2658 13654,2258C13642,2189 13639,2130 13643,2030C13649,1875 13666,1800 13722,1680C13877,1345 14211,1174 14669,1193C14964,1205 15160,1281 15331,1450C15403,1520 15424,1550 15458,1620C15495,1698 15530,1819 15530,1869C15530,1890 15526,1890 15196,1890L14862,1890L14855,1853C14847,1808 14809,1731 14783,1708C14745,1673 14677,1650 14611,1650C14518,1650 14473,1667 14413,1725C14345,1792 14321,1867 14313,2035C14306,2184 14321,2285 14361,2367C14421,2491 14549,2547 14685,2509C14746,2492 14814,2418 14835,2347L14851,2290L15522,2290L15515,2338C15472,2628 15260,2851 14954,2929C14818,2963 14627,2977 14475,2963Z' style='fill-rule:nonzero;'/>",
                    "<path d='M12790,2920L12790,1240L13460,1240L13460,2920L12790,2920Z' style='fill-rule:nonzero;'/>",
                    "<path d='M716,2720C682,2709 650,2682 650,2663C650,2644 620,2634 610,2650C596,2672 570,2606 570,2550C570,2463 624,2387 705,2360C738,2349 765,2350 842,2363C884,2371 928,2410 946,2457C980,2545 939,2638 840,2698C784,2731 765,2734 716,2720Z' style='fill:rgb(228,33,101);fill-rule:nonzero;'/>",
                    "<path d='M770,1983C751,1973 730,1954 723,1941C710,1914 674,1901 684,1926C696,1957 668,1927 654,1894C610,1788 669,1667 783,1630C817,1619 842,1620 917,1634C954,1641 1008,1690 1021,1727C1039,1783 1028,1855 993,1898C923,1984 837,2017 770,1983Z' style='fill:rgb(228,33,101);fill-rule:nonzero;'/>",
                    "<path d='M4390,1642C4357,1637 4310,1603 4310,1584C4310,1564 4280,1554 4270,1570C4257,1592 4229,1524 4228,1470C4228,1410 4260,1338 4298,1312C4359,1270 4397,1264 4500,1282C4592,1298 4644,1410 4602,1501C4577,1554 4566,1568 4518,1604C4478,1634 4431,1648 4390,1642Z' style='fill:rgb(228,33,101);fill-rule:nonzero;'/>",
                    "<path d='M1151,1342C1116,1337 1080,1310 1069,1283C1064,1270 1053,1260 1044,1260C1034,1260 1030,1265 1034,1276C1046,1307 1018,1277 1004,1244C972,1168 998,1057 1057,1014C1118,970 1155,964 1261,982C1334,995 1389,1080 1376,1162C1360,1263 1243,1356 1151,1342Z' style='fill:rgb(228,33,101);fill-rule:nonzero;'/>",
                    "<path d='M3895,1113C3863,1104 3829,1078 3819,1053C3814,1040 3803,1030 3794,1030C3784,1030 3780,1035 3784,1046C3796,1077 3768,1047 3754,1014C3723,940 3747,839 3808,788C3864,741 3904,734 4012,753C4051,760 4100,800 4116,839C4156,934 4107,1040 3998,1096C3951,1120 3934,1123 3895,1113Z' style='fill:rgb(228,33,101);fill-rule:nonzero;'/>",
                    "<path d='M1745,913C1707,905 1678,886 1664,858C1649,829 1613,817 1624,845C1637,879 1618,857 1600,818C1538,681 1648,523 1792,544C1816,547 1844,551 1855,552C1886,554 1941,599 1956,636C1972,674 1974,738 1961,773C1944,816 1887,872 1835,896C1784,920 1780,921 1745,913Z' style='fill:rgb(228,33,101);fill-rule:nonzero;'/>",
                    "<path d='M14848,895C14740,860 14689,739 14745,653C14766,621 14824,594 14931,565C15030,539 15050,528 15050,499C15050,453 14942,450 14903,495C14883,518 14875,520 14795,520C14700,520 14699,519 14730,455C14754,406 14789,378 14854,356C14907,338 15026,335 15081,350C15198,383 15259,491 15214,585C15188,641 15145,662 14958,710C14925,719 14909,729 14904,743C14889,791 14984,809 15024,765C15045,742 15055,740 15129,740C15222,740 15226,745 15187,815C15154,875 15090,903 14981,907C14925,909 14879,905 14848,895Z' style='fill:rgb(228,33,101);fill-rule:nonzero;'/>",
                    "<path d='M4889,873C4883,857 4841,746 4795,625C4749,504 4707,392 4701,377L4690,349L4874,355L4884,388L4893,420L5089,420L5098,388L5106,355L5199,352C5272,350 5291,352 5288,362C5285,369 5239,493 5184,638L5086,900L4993,900C4900,900 4899,900 4889,873Z' style='fill:rgb(228,33,101);fill-rule:nonzero;'/>",
                    "<path d='M6270,900L6270,340L6470,340L6470,900L6270,900Z' style='fill:rgb(228,33,101);fill-rule:nonzero;'/>",
                    "<path d='M7480,902L7480,350L7660,350L7660,540L7725,540C7812,540 7830,523 7830,441C7830,349 7828,350 7936,350C7992,350 8030,354 8030,360C8030,366 8026,370 8021,370C8017,370 8010,409 8007,456C8002,546 7984,581 7937,596C7920,601 7922,605 7954,632C8036,699 8020,824 7923,871C7879,893 7859,895 7678,898L7480,902ZM7814,757C7825,749 7833,731 7833,715C7833,674 7807,660 7728,660L7660,660L7660,770L7728,770C7769,770 7803,765 7814,757Z' style='fill:rgb(228,33,101);fill-rule:nonzero;'/>",
                    "<path d='M9020,900L9020,350L9470,350L9470,490L9210,490L9210,900L9020,900Z' style='fill:rgb(228,33,101);fill-rule:nonzero;'/>",
                    "<path d='M10460,900L10460,340L10660,340L10660,900L10460,900Z' style='fill:rgb(228,33,101);fill-rule:nonzero;'/>",
                    "<path d='M11680,900L11680,350L11850,350L11850,490C11850,567 11853,630 11858,630C11862,630 11908,567 11959,490L12054,350L12230,350L12230,900L12051,900L12048,754L12045,607L11947,754L11850,900L11680,900Z' style='fill:rgb(228,33,101);fill-rule:nonzero;'/>",
                    "<path d='M13260,900L13260,350L13730,350L13730,480L13430,480L13430,570L13680,570L13680,690L13430,690L13430,770L13720,770L13720,900L13260,900Z' style='fill:rgb(228,33,101);fill-rule:nonzero;'/>",
                    "<path d='M3225,803C3187,795 3158,776 3144,748C3129,719 3093,708 3104,736C3116,767 3088,737 3074,704C3019,572 3132,414 3268,433C3348,445 3362,449 3394,474C3433,503 3456,570 3447,627C3431,721 3306,820 3225,803Z' style='fill:rgb(228,33,101);fill-rule:nonzero;'/>",
                    "<path d='M2485,723C2447,715 2418,696 2404,668C2389,639 2353,628 2364,656C2376,687 2348,657 2334,624C2316,582 2316,509 2334,467C2363,398 2456,343 2528,353C2608,365 2622,369 2654,394C2693,423 2716,490 2707,547C2691,641 2566,740 2485,723Z' style='fill:rgb(228,33,101);fill-rule:nonzero;'/>",
                    "<g transform='matrix(10,0,0,-10,0,5170)'>",
                    "<path d='M289.086,195.596C295.42,195.245 300.754,198.907 305.218,203.109C305.826,203.68 306.561,204.306 307.273,204.982C307.674,205.362 308.184,205.676 308.356,206.134C309.521,209.234 312.984,210.805 316.084,209.639C319.183,208.474 320.754,205.011 319.589,201.912C318.519,199.068 315.561,196.363 313.442,194.37C306.61,187.94 298.115,183.077 288.422,183.615C285.115,183.798 282.58,186.631 282.763,189.938C282.946,193.244 285.78,195.78 289.086,195.596Z'/>",
                    "</g>",
                    "<g transform='matrix(10,0,0,-10,0,5170)'>",
                    "<path d='M201.958,287.335C204.028,290.934 206.631,294.269 209.359,297.498C211.229,303.305 214.039,308.723 218.302,313.318C222.431,317.771 227.638,320.948 233.065,323.617C234.048,324.418 235.059,325.182 236.102,325.905C248.923,334.799 263.847,338.228 278.767,341.522C283.236,342.509 287.374,344.685 291.891,345.633C302.368,347.833 315.28,348.532 325.766,346.637C333.463,345.246 339.112,341.88 344.712,337.522C348.964,335.254 353.03,332.419 356.863,328.945C361.214,325.001 365.413,320.163 369.006,314.885C374.714,307.912 379.107,299.974 381.513,289.665C387.137,265.567 378.235,240.445 363.619,221.691C359.884,216.899 355.685,212.516 351.963,207.72C348.393,203.12 344.571,196.946 339.804,193.432C331.335,187.188 319.525,184.377 309.628,181.54C282.59,173.791 251.536,168.975 225.584,183.894C209.233,193.293 199.159,215.164 193.067,231.772C188.036,245.487 187.016,260.238 188.492,274.761C189.209,281.816 195.058,287.118 201.958,287.335ZM277.468,209.2C271.932,209.798 266.45,210.869 261.023,212.118C256.804,213.09 252.214,214.448 248.477,216.668C243.843,219.42 239.13,222.107 236.051,226.674C235.699,227.196 234.91,228.509 234.29,229.556C234.596,231.444 234.815,233.805 234.53,235.86C233.122,246.002 233.077,255.513 233.388,265.892C233.56,271.618 233.499,277.86 234.493,283.783L234.537,284.027C235.84,285.446 237.129,286.86 238.318,288.308C241.579,292.277 244.741,296.573 248.565,300.076C249.783,300.569 251,301.047 252.175,301.558C258.221,304.185 263.863,307.251 270.161,309.336C277.916,311.904 285.909,313.226 293.869,314.982C306.144,317.688 318.926,318.83 329.803,313.711C330.57,313.007 331.353,312.286 332.187,311.579C337.287,307.258 342.215,303.388 346.203,298.784C348.584,295.25 350.491,291.428 351.499,287.642C352.48,283.956 351.559,279.729 351.46,275.964C351.116,262.798 348.086,250.52 339.832,240.015C337.619,237.199 334.824,235.162 332.27,232.683C326.381,226.965 320.206,221.203 312.839,217.419C308.032,214.949 301.805,214.856 296.589,213.791C290.593,212.566 284.575,210.26 278.569,209.326C278.207,209.27 277.84,209.228 277.468,209.2Z' style='fill:rgb(86,192,254);'/>",
                    "</g>",
                    "<g transform='matrix(10,0,0,-10,0,5170)'>",
                    "<path d='M201.332,261.222C199.309,261.393 197.452,262.004 195.774,263.008C193.781,264.145 192.17,265.71 190.997,267.526C190.189,268.704 189.45,270.198 189.07,272.137C188.377,275.256 188.744,278.627 190.348,281.672C191.148,283.192 193.483,285.987 195.77,287.307C199.051,289.2 202.418,289.419 204.984,289.011C208.544,288.444 211.646,286.736 214.028,283.528C215.292,281.826 216.902,279.19 216.787,274.797C216.613,268.178 211.862,262.746 205.644,261.459L205.582,261.445L205.489,261.428L205.251,261.379L205.101,261.356L204.92,261.323L204.591,261.279L204.559,261.274L204.543,261.273C203.486,261.132 202.408,261.114 201.332,261.222ZM192.15,266.072C191.771,266.496 191.377,266.977 190.997,267.526C190.081,268.939 189.429,270.503 189.07,272.137C188.908,272.936 188.81,273.811 188.798,274.771C188.888,271.465 190.132,268.431 192.15,266.072ZM202.015,261.176L201.332,261.222C199.591,261.393 197.855,261.898 196.214,262.762L195.774,263.008C195.056,263.435 194.371,263.934 193.722,264.505C196.048,262.52 199.034,261.282 202.319,261.174L202.015,261.176Z' style='fill:rgb(86,192,254);'/>",
                    "</g>",
                    "<g transform='matrix(10,0,0,-10,0,5170)'>",
                    "<path d='M216.444,267.591C214.716,261.342 208.794,256.936 202.07,257.361C194.358,257.848 188.493,264.504 188.98,272.216C189.577,281.663 193.022,286.267 199.924,292.382C201.262,293.568 205.452,296.609 208.157,297.505C211.994,298.775 215.418,298.381 218.041,297.433C219.95,296.744 226.082,291.394 226.082,291.394C226.082,291.394 225.793,291.686 225.681,291.791C231.315,286.503 231.597,277.636 226.309,272.002C223.641,269.158 220.06,267.678 216.444,267.591Z' style='fill:rgb(86,192,254);'/>",
                    "</g>",
                    "</g>",
                    "</g>",
                    "</g>",
                    "<g transform='matrix(1,0,0,1,-174,803)'>",
                    "<text x='289.904px' y='601.132px' style='font-family:'PTMono-Regular', 'PT Mono', monospace;font-size:400px;fill:rgb(0,11,160);'>SYD</text>",
                    "</g>",
                    "<g transform='matrix(1,0,0,1,1469,803)'>",
                    "<text x='289.904px' y='601.132px' style='font-family:'PTMono-Regular', 'PT Mono', monospace;font-size:400px;fill:rgb(0,11,160);'>LAX</text>",
                    "</g>",
                    "<g transform='matrix(1,0,0,1,-833,24)'>",
                    "<text x='1091.98px' y='1693.96px' style='font-family:'PTMono-Regular', 'PT Mono', monospace;font-size:150px;fill:url(#_Linear4);'>Flight:</text>",
                    string(
                        abi.encodePacked(
                            "<text x='1633.48px' y='1693.96px' style='font-family:'PTMono-Regular', 'PT Mono', monospace;font-size:150px;fill:url(#_Linear6);'>",
                            Strings.toString(id / flight.capacity),
                            "</text>"
                        )
                    ),
                    "<text x='2353.48px' y='1693.96px' style='font-family:'PTMono-Regular', 'PT Mono', monospace;font-size:150px;fill:url(#_Linear7);'>Seat n:</text>",
                    string(
                        abi.encodePacked(
                            "<text x='2531.98px' y='1693.96px' style='font-family:'PTMono-Regular', 'PT Mono', monospace;font-size:150px;fill:url(#_Linear8);'>",
                            Strings.toString(id % flight.capacity),
                            "</text>"
                        )
                    ),
                    "</g>",
                    "<defs>",
                    "<linearGradient id='_Linear2' x1='0' y1='0' x2='1' y2='0' gradientUnits='userSpaceOnUse' gradientTransform='matrix(3274,0,0,3372,-339,1330)'><stop offset='0' style='stop-color:rgb(0,128,205);stop-opacity:0'/><stop offset='1' style='stop-color:white;stop-opacity:0.71'/></linearGradient>",
                    "<linearGradient id='_Linear1' x1='0' y1='0' x2='1' y2='0' gradientUnits='userSpaceOnUse' gradientTransform='matrix(2617,0,0,2606,36,1351)'><stop offset='0' style='stop-color:rgb(0,128,205);stop-opacity:1'/><stop offset='1' style='stop-color:rgb(0,128,205);stop-opacity:1'/></linearGradient>",
                    "<linearGradient id='_Linear4' x1='0' y1='0' x2='1' y2='0' gradientUnits='userSpaceOnUse' gradientTransform='matrix(783.203,0,0,296.094,307.873,457.968)'><stop offset='0' style='stop-color:black;stop-opacity:1'/><stop offset='1' style='stop-color:rgb(0,128,205);stop-opacity:1'/></linearGradient>",
                    "<linearGradient id='_Linear5' x1='0' y1='0' x2='1' y2='0' gradientUnits='userSpaceOnUse' gradientTransform='matrix(783.203,0,0,296.094,307.873,457.968)'><stop offset='0' style='stop-color:black;stop-opacity:1'/><stop offset='1' style='stop-color:rgb(0,128,205);stop-opacity:1'/></linearGradient>",
                    "<linearGradient id='_Linear6' x1='0' y1='0' x2='1' y2='0' gradientUnits='userSpaceOnUse' gradientTransform='matrix(783.203,0,0,296.094,307.873,457.968)'><stop offset='0' style='stop-color:black;stop-opacity:1'/><stop offset='1' style='stop-color:rgb(0,128,205);stop-opacity:1'/></linearGradient>",
                    "<linearGradient id='_Linear7' x1='0' y1='0' x2='1' y2='0' gradientUnits='userSpaceOnUse' gradientTransform='matrix(783.203,0,0,296.094,307.873,457.968)'><stop offset='0' style='stop-color:black;stop-opacity:1'/><stop offset='1' style='stop-color:rgb(0,128,205);stop-opacity:1'/></linearGradient>",
                    "<linearGradient id='_Linear8' x1='0' y1='0' x2='1' y2='0' gradientUnits='userSpaceOnUse' gradientTransform='matrix(783.203,0,0,296.094,307.873,457.968)'><stop offset='0' style='stop-color:black;stop-opacity:1'/><stop offset='1' style='stop-color:rgb(0,128,205);stop-opacity:1'/></linearGradient>",
                    "</defs>",
                    "</svg>"
                )
            );
    }
}
